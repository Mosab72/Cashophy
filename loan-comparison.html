<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุงุฑูุฉ ุงููุฑูุถ - Cashophy</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <h1>๐ฐ Cashophy</h1>
            </div>
            <ul class="navbar-menu">
                <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="calculator.html">ุญุงุณุจุฉ ุงููุฑูุถ</a></li>
                <li><a href="salary-calculator.html">ุญุงุณุจุฉ ุงูุฑุงุชุจ</a></li>
                <li><a href="analysis.html">ุงูุชุญููู ุงููุงูู</a></li>
                <li><a href="about.html">ูู ูุญู</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>โ๏ธ ููุงุฑูุฉ ุงููุฑูุถ</h1>
        <p>ูุงุฑู ุจูู 3 ุนุฑูุถ ูุฑูุถ ูุงุนุฑู ุงูุฃูุถู ููู</p>

        <div class="grid grid-3">
            <!-- ุงููุฑุถ ุงูุฃูู -->
            <div class="card">
                <h3>๐ฆ ุงููุฑุถ ุงูุฃูู</h3>
                <div class="form-group">
                    <label class="form-label">ุงููุจูุบ</label>
                    <input type="number" id="loan1-amount" class="form-input" value="100000">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุฏุฉ (ุณููุงุช)</label>
                    <input type="number" id="loan1-years" class="form-input" value="5">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุงุฆุฏุฉ (%)</label>
                    <input type="number" id="loan1-rate" class="form-input" value="4.5" step="0.1">
                </div>
            </div>

            <!-- ุงููุฑุถ ุงูุซุงูู -->
            <div class="card">
                <h3>๐ฆ ุงููุฑุถ ุงูุซุงูู</h3>
                <div class="form-group">
                    <label class="form-label">ุงููุจูุบ</label>
                    <input type="number" id="loan2-amount" class="form-input" value="100000">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุฏุฉ (ุณููุงุช)</label>
                    <input type="number" id="loan2-years" class="form-input" value="4">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุงุฆุฏุฉ (%)</label>
                    <input type="number" id="loan2-rate" class="form-input" value="5.0" step="0.1">
                </div>
            </div>

            <!-- ุงููุฑุถ ุงูุซุงูุซ -->
            <div class="card">
                <h3>๐ฆ ุงููุฑุถ ุงูุซุงูุซ</h3>
                <div class="form-group">
                    <label class="form-label">ุงููุจูุบ</label>
                    <input type="number" id="loan3-amount" class="form-input" value="100000">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุฏุฉ (ุณููุงุช)</label>
                    <input type="number" id="loan3-years" class="form-input" value="6">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุงุฆุฏุฉ (%)</label>
                    <input type="number" id="loan3-rate" class="form-input" value="4.0" step="0.1">
                </div>
            </div>
        </div>

        <button onclick="compareLoans()" class="btn btn-primary btn-block">ูุงุฑู ุงูุขู ๐</button>

        <div id="comparison-results" style="display: none; margin-top: 2rem;">
            <h2>๐ ูุชุงุฆุฌ ุงูููุงุฑูุฉ</h2>
            
            <div style="overflow-x: auto;">
                <table class="table">
                    <thead>
                        <tr>
                            <th>ุงูุจูุฏ</th>
                            <th>ุงููุฑุถ ุงูุฃูู</th>
                            <th>ุงููุฑุถ ุงูุซุงูู</th>
                            <th>ุงููุฑุถ ุงูุซุงูุซ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ุงููุณุท ุงูุดูุฑู</strong></td>
                            <td id="compare-payment1">-</td>
                            <td id="compare-payment2">-</td>
                            <td id="compare-payment3">-</td>
                        </tr>
                        <tr>
                            <td><strong>ุฅุฌูุงูู ุงููุงุฆุฏุฉ</strong></td>
                            <td id="compare-interest1">-</td>
                            <td id="compare-interest2">-</td>
                            <td id="compare-interest3">-</td>
                        </tr>
                        <tr>
                            <td><strong>ูุณุจุฉ ุงููุงุฆุฏุฉ</strong></td>
                            <td id="compare-ratio1">-</td>
                            <td id="compare-ratio2">-</td>
                            <td id="compare-ratio3">-</td>
                        </tr>
                        <tr>
                            <td><strong>ุฅุฌูุงูู ุงููุฏููุน</strong></td>
                            <td id="compare-total1">-</td>
                            <td id="compare-total2">-</td>
                            <td id="compare-total3">-</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="card">
                <h3>๐ ุงูุชูุตูุฉ</h3>
                <div id="recommendation" style="font-size: 1.1rem; line-height: 2;"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-bottom">
                <p>ยฉ 2024 Cashophy - ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
            </div>
        </div>
    </footer>

    <script src="js/calculator.js"></script>
    <script src="js/main.js"></script>
    <script>
        function compareLoans() {
            const loans = [];
            
            for (let i = 1; i <= 3; i++) {
                const amount = parseFloat(document.getElementById(`loan${i}-amount`).value);
                const years = parseFloat(document.getElementById(`loan${i}-years`).value);
                const rate = parseFloat(document.getElementById(`loan${i}-rate`).value);
                
                if (amount && years && rate) {
                    const result = LoanCalculator.calculateLoanDetails(amount, rate, years, 'fixed');
                    loans.push({ id: i, amount, years, rate, ...result });
                }
            }

            if (loans.length < 2) {
                alert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุจูุงูุงุช ูุฑุถูู ุนูู ุงูุฃูู');
                return;
            }

            // ุนุฑุถ ุงููุชุงุฆุฌ
            loans.forEach(loan => {
                document.getElementById(`compare-payment${loan.id}`).textContent = formatCurrency(loan.monthlyPayment);
                document.getElementById(`compare-interest${loan.id}`).textContent = formatCurrency(loan.totalInterest);
                document.getElementById(`compare-ratio${loan.id}`).textContent = formatPercentage(loan.interestRate);
                document.getElementById(`compare-total${loan.id}`).textContent = formatCurrency(loan.totalPayment);
            });

            // ุฅูุฌุงุฏ ุงูุฃูุถู
            const bestInterest = loans.reduce((best, current) => 
                current.totalInterest < best.totalInterest ? current : best
            );

            const bestPayment = loans.reduce((best, current) => 
                current.monthlyPayment < best.monthlyPayment ? current : best
            );

            let recommendation = '<ul style="line-height: 2;">';
            recommendation += `<li>โ <strong>ุฃูู ูุงุฆุฏุฉ:</strong> ุงููุฑุถ ${bestInterest.id} ุจูุงุฆุฏุฉ ${formatCurrency(bestInterest.totalInterest)}</li>`;
            recommendation += `<li>โ <strong>ุฃูู ูุณุท ุดูุฑู:</strong> ุงููุฑุถ ${bestPayment.id} ุจูุณุท ${formatCurrency(bestPayment.monthlyPayment)}</li>`;
            
            if (bestInterest.id === bestPayment.id) {
                recommendation += `<li>๐ <strong>ุงูุฃูุถู ุจุดูู ุนุงู:</strong> ุงููุฑุถ ${bestInterest.id}</li>`;
            } else {
                recommendation += `<li>๐ก ุฅุฐุง ุชุจุบู ุชูููุฑ ุนูู ุงููุฏู ุงูุจุนูุฏ: ุงุฎุชุฑ ุงููุฑุถ ${bestInterest.id}</li>`;
                recommendation += `<li>๐ก ุฅุฐุง ุชุจุบู ูุณุท ุฃูู ุดูุฑูุงู: ุงุฎุชุฑ ุงููุฑุถ ${bestPayment.id}</li>`;
            }
            
            recommendation += '</ul>';

            document.getElementById('recommendation').innerHTML = recommendation;
            document.getElementById('comparison-results').style.display = 'block';
            document.getElementById('comparison-results').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
