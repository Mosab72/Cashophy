<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุงุณุจุฉ ุงููุฑูุถ ุงูุดุงููุฉ - Cashophy</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <h1>๐ฐ Cashophy</h1>
            </div>
            <ul class="navbar-menu">
                <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="calculator.html">ุญุงุณุจุฉ ุงููุฑูุถ</a></li>
                <li><a href="salary-calculator.html">ุญุงุณุจุฉ ุงูุฑุงุชุจ</a></li>
                <li><a href="analysis.html">ุงูุชุญููู ุงููุงูู</a></li>
                <li><a href="about.html">ูู ูุญู</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>๐ ุญุงุณุจุฉ ุงููุฑูุถ ุงูุดุงููุฉ</h1>
        <p>ุงุญุณุจ ูุฑุถู ุจุฏูุฉ ูุงุนุฑู ูู ุงูุชูุงุตูู - ุงููุณุท ุงูุดูุฑูุ ุงููุงุฆุฏุฉุ ุงููุณุจ</p>

        <div class="card">
            <h2 class="card-title">ุฃุฏุฎู ุจูุงูุงุช ุงููุฑุถ</h2>
            
            <div class="grid grid-2">
                <div class="form-group">
                    <label class="form-label">ูุจูุบ ุงููุฑุถ (ุฑูุงู)</label>
                    <input type="number" id="loan-amount" class="form-input" placeholder="ูุซุงู: 100000" value="100000">
                </div>
                <div class="form-group">
                    <label class="form-label">ูุฏุฉ ุงููุฑุถ (ุณููุงุช)</label>
                    <input type="number" id="loan-years" class="form-input" placeholder="ูุซุงู: 5" value="5">
                </div>
                <div class="form-group">
                    <label class="form-label">ูุณุจุฉ ุงููุงุฆุฏุฉ ุงูุณูููุฉ (%)</label>
                    <input type="number" id="loan-rate" class="form-input" placeholder="ูุซุงู: 4.5" value="4.5" step="0.1">
                </div>
                <div class="form-group">
                    <label class="form-label">ููุน ุงููุงุฆุฏุฉ</label>
                    <select id="interest-type" class="form-select">
                        <option value="fixed">ูุงุฆุฏุฉ ุซุงุจุชุฉ</option>
                        <option value="reducing">ูุงุฆุฏุฉ ูุชูุงูุตุฉ</option>
                    </select>
                </div>
            </div>

            <button onclick="calculateLoan()" class="btn btn-primary btn-block">ุงุญุณุจ ุงูุขู ๐</button>
        </div>

        <div id="results" style="display: none; margin-top: 2rem;">
            <h2>๐ ูุชุงุฆุฌ ุงูุญุณุงุจ</h2>
            
            <div class="grid grid-2">
                <div class="result-item">
                    <div class="result-label">ุงููุณุท ุงูุดูุฑู</div>
                    <div class="result-value" id="monthly-payment">0 ุฑูุงู</div>
                    <span class="result-percentage" id="payment-ratio">0%</span>
                    <div class="result-description">ูุฐุง ุงููุจูุบ ุฑุงุญ ูุทูุน ูู ุญุณุงุจู ูู ุดูุฑ</div>
                </div>

                <div class="result-item">
                    <div class="result-label">ุฅุฌูุงูู ุงููุงุฆุฏุฉ</div>
                    <div class="result-value" id="total-interest">0 ุฑูุงู</div>
                    <span class="result-percentage" id="interest-ratio">0%</span>
                    <div class="result-description">ุงููุจูุบ ุงูุฒุงุฆุฏ ุงููู ุฑุงุญ ุชุฏูุนู ููุจูู</div>
                </div>

                <div class="result-item">
                    <div class="result-label">ุฅุฌูุงูู ุงููุฏููุน</div>
                    <div class="result-value" id="total-payment">0 ุฑูุงู</div>
                    <div class="result-description">ุงููุจูุบ ุงูููู ุงููู ุฑุงุญ ุชุฏูุนู ุทูุงู ูุฏุฉ ุงููุฑุถ</div>
                </div>

                <div class="result-item">
                    <div class="result-label">ูุณุจุฉ ุงููุงุฆุฏุฉ ูู ุงููุฑุถ</div>
                    <div class="result-value" id="interest-percentage">0%</div>
                    <div class="result-description">ุงููุณุจุฉ ุงููุฆููุฉ ูููุงุฆุฏุฉ ูู ูุจูุบ ุงููุฑุถ ุงูุฃุตูู</div>
                </div>
            </div>

            <div id="alert-container"></div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-bottom">
                <p>ยฉ 2024 Cashophy - ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
            </div>
        </div>
    </footer>

    <script src="js/calculator.js"></script>
    <script src="js/main.js"></script>
    <script>
        function calculateLoan() {
            const amount = parseFloat(document.getElementById('loan-amount').value);
            const years = parseFloat(document.getElementById('loan-years').value);
            const rate = parseFloat(document.getElementById('loan-rate').value);
            const type = document.getElementById('interest-type').value;

            if (!amount || !years || !rate) {
                alert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุฌููุน ุงูุจูุงูุงุช');
                return;
            }

            const result = LoanCalculator.calculateLoanDetails(amount, rate, years, type);

            document.getElementById('monthly-payment').textContent = formatCurrency(result.monthlyPayment);
            document.getElementById('total-interest').textContent = formatCurrency(result.totalInterest);
            document.getElementById('total-payment').textContent = formatCurrency(result.totalPayment);
            document.getElementById('interest-percentage').textContent = formatPercentage(result.interestRate);
            document.getElementById('payment-ratio').textContent = formatPercentage(result.paymentToLoanRatio);
            document.getElementById('interest-ratio').textContent = formatPercentage(result.interestRate);

            // ุนุฑุถ ุชุญุฐูุฑ ุญุณุจ ูุณุจุฉ ุงููุงุฆุฏุฉ
            const alertContainer = document.getElementById('alert-container');
            if (result.interestRate > 30) {
                alertContainer.innerHTML = '<div class="alert alert-danger">โ๏ธ ุชุญุฐูุฑ! ูุณุจุฉ ุงููุงุฆุฏุฉ ุนุงููุฉ ุฌุฏุงู - ุฑุงุญ ุชุฏูุน ุฃูุซุฑ ูู 30% ุฒูุงุฏุฉ ุนูู ุงููุจูุบ</div>';
            } else if (result.interestRate > 20) {
                alertContainer.innerHTML = '<div class="alert alert-warning">โ๏ธ ุงูุชุจู! ูุณุจุฉ ุงููุงุฆุฏุฉ ุนุงููุฉ ููุนุงู ูุง</div>';
            } else {
                alertContainer.innerHTML = '<div class="alert alert-success">โ ูุณุจุฉ ุงููุงุฆุฏุฉ ูุนูููุฉ</div>';
            }

            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
