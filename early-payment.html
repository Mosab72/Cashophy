<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุงุณุจุฉ ุงูุณุฏุงุฏ ุงููุจูุฑ - ุงุญุณุจ ุงููููุฑุงุช ูู ุงูุณุฏุงุฏ ุงููุจูุฑ</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="navbar-brand">
                <i class="fas fa-calculator navbar-brand-icon"></i>
                <span class="navbar-brand-text">ุญุงุณุจุฉ ุงููุฑูุถ</span>
            </a>
            <button class="navbar-toggle"><i class="fas fa-bars"></i></button>
            <ul class="navbar-menu">
                <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="calculator.html">ุญุงุณุจุฉ ุงููุฑูุถ</a></li>
                <li><a href="salary-calculator.html">ุญุงุณุจุฉ ุงูุฑุงุชุจ</a></li>
                <li><a href="financial-analysis.html">ุงูุชุญููู ุงููุงูู</a></li>
                <li><a href="education.html">ููุชุจุฉ ุชูุนููุฉ</a></li>
                <li><a href="about.html">ูู ูุญู</a></li>
            </ul>
        </div>
    </nav>

    <section class="page-header">
        <div class="container">
            <h1><i class="fas fa-rocket"></i> ุญุงุณุจุฉ ุงูุณุฏุงุฏ ุงููุจูุฑ</h1>
            <p>ุงุญุณุจ ูู ุฑุงุญ ุชููุฑ ูู ุงููุงุฆุฏุฉ ูุงูููุช ูู ุณุฏุฏุช ูุจูุบ ุฅุถุงูู ูุจูุฑุงู</p>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="grid grid-2" style="gap: 2rem; align-items: start;">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title"><i class="fas fa-edit"></i> ุจูุงูุงุช ุงููุฑุถ ุงูุญุงูู</h2>
                    </div>
                    <div class="card-body">
                        <form id="earlyPaymentForm">
                            <div class="form-group">
                                <label class="form-label">๐ฐ ูุจูุบ ุงููุฑุถ ุงูุฃุตูู</label>
                                <input type="number" id="originalAmount" class="form-input" value="200000" min="1000" required>
                                <span class="form-help">ุงููุจูุบ ุงูููู ุงููู ุงูุชุฑุถุชู ูู ุงูุจูู</span>
                            </div>

                            <div class="form-group">
                                <label class="form-label">๐ ูุณุจุฉ ุงููุงุฆุฏุฉ ุงูุณูููุฉ (%)</label>
                                <input type="number" id="interestRate" class="form-input" value="6" step="0.1" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">๐ ูุฏุฉ ุงููุฑุถ ุงููููุฉ (ุณููุงุช)</label>
                                <input type="number" id="totalYears" class="form-input" value="10" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">โ ูู ุดูุฑ ูุถู ูู ุงููุฑุถุ</label>
                                <input type="number" id="paidMonths" class="form-input" value="24" min="0" required>
                                <span class="form-help">ุนุฏุฏ ุงูุฃุดูุฑ ุงููู ุฏูุนุชูุง ูู ุงููุฑุถ</span>
                            </div>

                            <div class="form-group">
                                <label class="form-label">๐ต ูุจูุบ ุงูุณุฏุงุฏ ุงููุจูุฑ</label>
                                <input type="number" id="earlyAmount" class="form-input" value="50000" min="1000" required>
                                <span class="form-help">ุงููุจูุบ ุงูุฅุถุงูู ุงููู ุชุจู ุชุณุฏุฏู</span>
                            </div>

                            <button type="submit" class="btn btn-gold btn-lg btn-block">
                                <i class="fas fa-calculator"></i> ุงุญุณุจ ุงููููุฑุงุช
                            </button>
                        </form>
                    </div>
                </div>

                <div id="resultsContainer" class="hidden">
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title"><i class="fas fa-piggy-bank"></i> ุงููููุฑุงุช ุงููุชููุนุฉ</h2>
                        </div>
                        <div class="card-body" id="resultsContent"></div>
                    </div>
                </div>
            </div>

            <div class="info-boxes" style="margin-top: 3rem;">
                <div class="card">
                    <h3><i class="fas fa-lightbulb"></i> ููุงุฆุฏ ุงูุณุฏุงุฏ ุงููุจูุฑ</h3>
                    <ul style="line-height: 2; color: var(--text-secondary);">
                        <li>ุชูููุฑ ูุจูุฑ ูู ุฅุฌูุงูู ุงููุงุฆุฏุฉ ุงููุฏููุนุฉ</li>
                        <li>ุชูููู ูุฏุฉ ุงููุฑุถ ูุงูุชุฎูุต ููู ุจุณุฑุนุฉ</li>
                        <li>ุชุญุณูู ูุถุนู ุงููุงูู ูุฒูุงุฏุฉ ูุฏุฑุชู ุนูู ุงูุงูุชุฑุงุถ ูุณุชูุจูุงู</li>
                        <li>ุฑุงุญุฉ ููุณูุฉ ูู ุชูููู ุงูุฏููู</li>
                        <li>ุชูููุฑ ุงููุจุงูุบ ูููู ุงุณุชุฎุฏุงููุง ูู ุงุณุชุซูุงุฑุงุช ุฃุฎุฑู</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 ุญุงุณุจุฉ ุงููุฑูุถ ุงูุฐููุฉ. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
            </div>
        </div>
    </footer>

    <script src="js/utils.js"></script>
    <script src="js/calculator.js"></script>
    <script>
        document.getElementById('earlyPaymentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const original = parseFloat(document.getElementById('originalAmount').value);
            const rate = parseFloat(document.getElementById('interestRate').value);
            const years = parseFloat(document.getElementById('totalYears').value);
            const paid = parseInt(document.getElementById('paidMonths').value);
            const early = parseFloat(document.getElementById('earlyAmount').value);

            const months = Math.round(years * 12);

            if (paid >= months) {
                alert('ุนุฏุฏ ุงูุฃุดูุฑ ุงููุฏููุนุฉ ุฃูุจุฑ ูู ุฃู ูุณุงูู ูุฏุฉ ุงููุฑุถ ุงููููุฉ!');
                return;
            }

            const savings = calculateEarlyPaymentSavings(original, rate, months, paid, early);

            displayResults(savings, original, early, paid, months);
            
            document.getElementById('resultsContainer').classList.remove('hidden');
            document.getElementById('resultsContainer').scrollIntoView({ behavior: 'smooth' });
        });

        function displayResults(savings, original, early, paid, totalMonths) {
            const remainingMonths = totalMonths - paid;
            
            let html = `
                ${createResultHTML(
                    '๐ฐ ุงููุงุฆุฏุฉ ุงููููุฑุฉ',
                    formatCurrency(savings.interestSaved),
                    null,
                    'ุงููุจูุบ ุงููู ุฑุงุญ ุชููุฑู ูู ุงููุงุฆุฏุฉ ุจุณุจุจ ุงูุณุฏุงุฏ ุงููุจูุฑ'
                )}
                
                ${createResultHTML(
                    'โฐ ุงูููุช ุงููููุฑ',
                    monthsToYearsAndMonths(savings.timeSaved),
                    formatPercentage((savings.timeSaved/remainingMonths)*100, 1),
                    'ุงููุฏุฉ ุงููู ุฑุงุญ ุชุฎุชุตุฑูุง ูู ุงููุฑุถ'
                )}
                
                ${createResultHTML(
                    'โจ ุฅุฌูุงูู ุงููููุฑุงุช',
                    formatCurrency(savings.totalSavings),
                    null,
                    'ุงููุจูุบ ุงูููู ุงููู ุฑุงุญ ุชููุฑู'
                )}
            `;

            if (savings.newBalance > 0) {
                html += createResultHTML(
                    '๐ ุงูุฑุตูุฏ ุงููุชุจูู',
                    formatCurrency(savings.newBalance),
                    null,
                    'ุงููุจูุบ ุงููุชุจูู ูู ุงููุฑุถ ุจุนุฏ ุงูุณุฏุงุฏ ุงููุจูุฑ'
                );
            } else {
                html += `
                    <div class="alert alert-success" style="margin-top: 1rem;">
                        <span class="alert-icon">๐</span>
                        <div>
                            <strong>ูุจุฑูู!</strong><br>
                            ุฑุงุญ ุชุณุฏุฏ ุงููุฑุถ ูุงูู ุจูุฐุง ุงููุจูุบ! ูุง ุฑุงุญ ูุจูู ุนููู ุดูุก.
                        </div>
                    </div>
                `;
            }

            html += `
                <div class="alert alert-info" style="margin-top: 2rem;">
                    <span class="alert-icon">๐ก</span>
                    <div>
                        <strong>ููุฎุต ุงูุณุฏุงุฏ ุงููุจูุฑ:</strong><br>
                        โข ุงููุจูุบ ุงููุฏููุน ููุฏูุงู: ${formatCurrency(early)}<br>
                        โข ุงููููุฑุงุช ูู ุงููุงุฆุฏุฉ: ${formatCurrency(savings.interestSaved)}<br>
                        โข ุตุงูู ุงููุงุฆุฏุฉ: ${formatCurrency(savings.interestSaved - early)}<br>
                        ${savings.newBalance > 0 ? 
                            `โข ุงููุฏุฉ ุงููุชุจููุฉ: ${monthsToYearsAndMonths(remainingMonths - savings.timeSaved)}` :
                            'โข ุงููุฑุถ ูุณุฏุฏ ุจุงููุงูู! ๐'
                        }
                    </div>
                </div>
                
                <div class="alert alert-success" style="margin-top: 1rem;">
                    <span class="alert-icon">โ</span>
                    <div>
                        <strong>ุชูุตูุชูุง:</strong> ุงูุณุฏุงุฏ ุงููุจูุฑ ูุฑุงุฑ ููุชุงุฒ! 
                        ุฑุงุญ ุชููุฑ ${formatCurrency(savings.totalSavings)} ูุชุฎุชุตุฑ ${monthsToYearsAndMonths(savings.timeSaved)} ูู ูุฏุฉ ุงููุฑุถ.
                    </div>
                </div>
            `;

            document.getElementById('resultsContent').innerHTML = html;
        }
    </script>

    <style>
        .page-header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary-medium) 100%);
            padding: 3rem 0;
            color: white;
            text-align: center;
        }
        .page-header h1 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: none;
            -webkit-text-fill-color: white;
        }
        .page-header p {
            font-size: 1.2rem;
            color: #e2e8f0;
        }
        .info-boxes ul {
            list-style-position: inside;
            padding-right: 1rem;
        }
        .info-boxes h3 {
            color: var(--primary-dark);
            margin-bottom: 1rem;
        }
    </style>
</body>
</html>
