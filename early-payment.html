<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¨ÙƒØ± - Cashophy</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-brand">
                <h1>ğŸ’° Cashophy</h1>
            </div>
            <ul class="navbar-menu">
                <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="calculator.html">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù‚Ø±ÙˆØ¶</a></li>
                <li><a href="salary-calculator.html">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ØªØ¨</a></li>
                <li><a href="analysis.html">Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠ</a></li>
                <li><a href="about.html">Ù…Ù† Ù†Ø­Ù†</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>â° Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¨ÙƒØ±</h1>
        <p>Ø§Ø­Ø³Ø¨ ÙƒÙ… Ø±Ø§Ø­ ØªÙˆÙØ± Ù„Ùˆ Ø³Ø¯Ø¯Øª Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù‚Ø±Ø¶ Ù…Ø¨ÙƒØ±</p>

        <div class="card">
            <h2 class="card-title">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„ÙŠ</h2>
            
            <div class="grid grid-2">
                <div class="form-group">
                    <label class="form-label">Ù…Ø¨Ù„Øº Ø§Ù„Ù‚Ø±Ø¶ Ø§Ù„Ø£ØµÙ„ÙŠ (Ø±ÙŠØ§Ù„)</label>
                    <input type="number" id="early-amount" class="form-input" value="100000">
                </div>
                <div class="form-group">
                    <label class="form-label">Ù†Ø³Ø¨Ø© Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠØ© (%)</label>
                    <input type="number" id="early-rate" class="form-input" value="4.5" step="0.1">
                </div>
                <div class="form-group">
                    <label class="form-label">Ù…Ø¯Ø© Ø§Ù„Ù‚Ø±Ø¶ (Ø³Ù†ÙˆØ§Øª)</label>
                    <input type="number" id="early-years" class="form-input" value="5">
                </div>
                <div class="form-group">
                    <label class="form-label">Ø¨Ø¹Ø¯ ÙƒÙ… Ø´Ù‡Ø± ØªØ¨ØºÙ‰ ØªØ³Ø¯Ø¯ØŸ</label>
                    <input type="number" id="early-when" class="form-input" value="12" min="1">
                </div>
                <div class="form-group">
                    <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù„ÙŠ ØªØ¨ØºÙ‰ ØªØ³Ø¯Ø¯Ù‡ Ù…Ø¨ÙƒØ±</label>
                    <input type="number" id="early-payment-amount" class="form-input" value="20000">
                </div>
            </div>

            <button onclick="calculateEarly()" class="btn btn-primary btn-block">Ø§Ø­Ø³Ø¨ Ø§Ù„ØªÙˆÙÙŠØ± ğŸ’°</button>
        </div>

        <div id="early-results" style="display: none; margin-top: 2rem;">
            <h2>ğŸ’¡ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¨ÙƒØ±</h2>
            
            <div class="grid grid-2">
                <div class="result-item">
                    <div class="result-label">Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…ÙˆÙØ±Ø©</div>
                    <div class="result-value" id="saved-interest">0 Ø±ÙŠØ§Ù„</div>
                    <div class="result-description">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù„ÙŠ Ø±Ø§Ø­ ØªÙˆÙØ±Ù‡ Ù…Ù† Ø§Ù„ÙØ§Ø¦Ø¯Ø©</div>
                </div>

                <div class="result-item">
                    <div class="result-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙˆÙØ±</div>
                    <div class="result-value" id="saved-months">0 Ø´Ù‡Ø±</div>
                    <div class="result-description">Ø±Ø§Ø­ ØªØ®Ù„Øµ Ø§Ù„Ù‚Ø±Ø¶ Ø£Ø³Ø±Ø¹ Ø¨ÙƒÙ… Ø´Ù‡Ø±</div>
                </div>

                <div class="result-item">
                    <div class="result-label">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯</div>
                    <div class="result-value" id="new-balance">0 Ø±ÙŠØ§Ù„</div>
                    <div class="result-description">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø±Ø¶ Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¨ÙƒØ±</div>
                </div>

                <div class="result-item">
                    <div class="result-label">Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</div>
                    <div class="result-value" id="new-duration">0 Ø´Ù‡Ø±</div>
                    <div class="result-description">Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¶</div>
                </div>
            </div>

            <div id="early-alert"></div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-bottom">
                <p>Â© 2024 Cashophy - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
            </div>
        </div>
    </footer>

    <script src="js/calculator.js"></script>
    <script src="js/main.js"></script>
    <script>
        function calculateEarly() {
            const amount = parseFloat(document.getElementById('early-amount').value);
            const rate = parseFloat(document.getElementById('early-rate').value);
            const years = parseFloat(document.getElementById('early-years').value);
            const whenMonths = parseInt(document.getElementById('early-when').value);
            const earlyAmount = parseFloat(document.getElementById('early-payment-amount').value);

            if (!amount || !rate || !years || !whenMonths || !earlyAmount) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                return;
            }

            const result = LoanCalculator.calculateEarlyPayment(amount, rate, years, earlyAmount, whenMonths);

            if (result.completed) {
                document.getElementById('saved-interest').textContent = formatCurrency(result.savedInterest);
                document.getElementById('saved-months').textContent = result.savedMonths + ' Ø´Ù‡Ø±';
                document.getElementById('new-balance').textContent = '0 Ø±ÙŠØ§Ù„ (Ù…Ø³Ø¯Ø¯ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„)';
                document.getElementById('new-duration').textContent = '0 Ø´Ù‡Ø±';
                
                document.getElementById('early-alert').innerHTML = 
                    '<div class="alert alert-success">ğŸ‰ Ù…Ù…ØªØ§Ø²! Ø±Ø§Ø­ ØªØ³Ø¯Ø¯ Ø§Ù„Ù‚Ø±Ø¶ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØªÙˆÙØ± ' + 
                    formatCurrency(result.savedInterest) + ' Ù…Ù† Ø§Ù„ÙØ§Ø¦Ø¯Ø©!</div>';
            } else {
                document.getElementById('saved-interest').textContent = formatCurrency(result.savedInterest);
                document.getElementById('saved-months').textContent = result.savedMonths + ' Ø´Ù‡Ø±';
                document.getElementById('new-balance').textContent = formatCurrency(result.newBalance);
                document.getElementById('new-duration').textContent = result.newMonths + ' Ø´Ù‡Ø±';
                
                document.getElementById('early-alert').innerHTML = 
                    '<div class="alert alert-success">âœ“ Ø§Ù„Ø³Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¨ÙƒØ± Ø±Ø§Ø­ ÙŠÙˆÙØ± Ù„Ùƒ ' + 
                    formatCurrency(result.savedInterest) + ' ÙˆÙŠÙ‚Ù„Ù„ Ø§Ù„Ù…Ø¯Ø© ' + result.savedMonths + ' Ø´Ù‡Ø±</div>';
            }

            document.getElementById('early-results').style.display = 'block';
            document.getElementById('early-results').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
